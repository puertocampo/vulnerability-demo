import { createConnection } from 'typeorm';

async function createTable() {
  const connection = await createConnection({
    type: 'postgres',
    host: 'localhost',
    port: 5433,
    username: 'postgres',
    password: 'postgres',
    database: 'postgres',
    entities: [],
    // synchronize: false,
    synchronize: true,
  });

  // テーブル作成
  // await connection.query(`
  //     CREATE TABLE "users" (
  //       "id" SERIAL PRIMARY KEY,
  //       "name" VARCHAR(255) NOT NULL,
  //       "email" VARCHAR(255) NOT NULL
  //     );
  //   `);
  // ユーザを追加
  await connection.query(`
    INSERT INTO "users" (name, email) VALUES
    ('alice', 'alice@example.com'),
    ('bob', 'bob@example.com'),
    ('charlie', 'charlie@example.com'),
    ('daisy', 'daisy@example.com'),
    ('evan', 'evan@example.com');
  `);

  console.log('Table "users" created successfully.');
  await connection.close();
}

createTable().catch((error) => console.log(error));
